<!DOCTYPE html>
<html>
<head>
    <title>Internship Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body { 
            background: #f5f5f5;
            display: flex;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .login-container { 
            max-width: 400px; 
            margin: 0 auto;
            width: 100%;
        }
        .card { border-radius: 8px; }
        .signup-link { 
            cursor: pointer; 
            color: #6a1b9a !important;
            font-weight: bold;
        }
        .signup-link:hover { 
            text-decoration: underline !important;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="card">
            <div class="card-content">
                <h1 class="center-align" style="font-size: 3rem; font-weight: bold; margin-bottom: 30px;">INTERNSHIP PLATFORM</h1>
                
                <!-- Login Form -->
                <form id="login-form" action="/simple_login" method="POST">
                    <div class="input-field">
                        <select name="userType" id="user-type" class="browser-default" required>
                            <option value="" disabled selected>Choose user type</option>
                            <option value="student">Student</option>
                            <option value="employer">Employer</option>
                            <option value="staff">Staff</option>
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <input type="text" id="username" name="username" class="validate" required>
                        <label for="username">Username</label>
                    </div>
                    
                    <div class="input-field">
                        <input type="password" id="password" name="password" class="validate" required>
                        <label for="password">Password</label>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                        <label style="margin: 0;">
                            <input type="checkbox" id="remember-me" name="rememberMe" />
                            <span>Remember me</span>
                        </label>
                        <a class="signup-link">Sign up</a>
                    </div>
                    
                    <button type="submit" class="btn purple waves-effect waves-light" style="width: 100%;">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <h4>Create Account</h4>
            <form id="signup-form" action="/simple_signup" method="POST">
                <div class="input-field">
                    <input type="text" id="new-username" name="username" class="validate" required>
                    <label for="new-username">Choose Username</label>
                </div>

                <div class="input-field">
                    <select id="new-user-type" name="userType" class="browser-default" required onchange="toggleStudentIdField()">
                        <option value="" disabled selected>Choose user type</option>
                        <option value="student">Student</option>
                        <option value="employer">Employer</option>
                        <option value="staff">Staff</option>
                    </select>
                </div>

                <div class="input-field" id="student-id-field" style="display:none;">
                    <input type="text" id="student-id" name="student_id" class="validate">
                    <label for="student-id">Student ID</label>
                </div>

                <div class="input-field">
                    <input type="password" id="new-password" name="password" class="validate" required>
                    <label for="new-password">Password</label>
                </div>

                <div class="input-field">
                    <input type="password" id="confirm-password" class="validate" required>
                    <label for="confirm-password">Confirm Password</label>
                </div>

                <div class="modal-footer">
                    <a href="#!" class="modal-close waves-effect waves-grey btn-flat">Cancel</a>
                    <button type="submit" class="waves-effect waves-light btn purple">Create Account</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        // Initialize modal
        document.addEventListener('DOMContentLoaded', function() {
            var modals = document.querySelectorAll('.modal');
            M.Modal.init(modals);
        });

        // Sign up link click handler
        document.querySelector('.signup-link').addEventListener('click', function() {
            var modal = M.Modal.getInstance(document.getElementById('signup-modal'));
            modal.open();
        });

        // Toggle Student ID field visibility based on user type
        function toggleStudentIdField() {
            var userType = document.getElementById('new-user-type').value;
            var studentIdField = document.getElementById('student-id-field');
            if (userType === 'student') {
                studentIdField.style.display = 'block';
            } else {
                studentIdField.style.display = 'none';
            }
        }

        // Create account button handler
        document.getElementById('create-account-btn').addEventListener('click', function() {
            const username = document.getElementById('new-username').value;
            const userType = document.getElementById('new-user-type').value;
            const password = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            // Basic validation
            if (!username || !userType || !password || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }

            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }

            // Here you would send to backend - for now just show success
            alert('Account created successfully! You can now login.');
            
            // Close modal and reset form
            var modal = M.Modal.getInstance(document.getElementById('signup-modal'));
            modal.close();
            document.getElementById('signup-form').reset();
        });

        // Login button handler (you can add your login logic here)
        document.querySelector('.btn').addEventListener('click', function() {
            // Add your login logic here
            console.log('Login clicked');
        });
    </script>
</body>
</html>